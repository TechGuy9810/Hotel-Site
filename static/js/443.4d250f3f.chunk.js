"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[443],{5443:(e,s,a)=>{a.r(s),a.d(s,{default:()=>j});var i=a(2791),t=a(9806),l=a(1632),c=a(7689),n=a(7169),r=a.n(n),o=a(1146),d=a(1012),m=a(1243),h=a(5218),x=a(184);const g=e=>{let{data:s}=e;const a=(0,c.s0)();return(0,x.jsxs)("div",{className:"Wish",children:[(0,x.jsxs)("div",{className:"NumberOfHotelRoom",children:[(0,x.jsx)("p",{className:"HotelRoomNumber",children:s.room.length}),(0,x.jsx)("p",{className:"NumberOfHotelRoomHeading",children:s.room.length>1?"Rooms":"Room"})]}),(0,x.jsxs)("div",{className:"HotelRoomContainer",children:[(0,x.jsxs)("p",{className:"price",children:["\u20b9\xa0",s.price,"/"]}),(0,x.jsx)("button",{className:"HotelBtn",onClick:async()=>{try{await s.room.map((e=>m.Z.post("/booking/book/",{room:e,user:s.user,start:s.from_date,end:s.to_date})));h.ZP.success("Room Booked Successfully"),a("/bookings")}catch(e){h.ZP.error(e.message),a("/")}},children:"Book"})]})]})},j=()=>{const e=(0,c.TH)(),[s,a]=(0,i.useState)(!1),[n,j]=(0,i.useState)(1e4),[u,p]=(0,i.useState)(0),v=e.pathname.split("/")[2],{dates:N}=(0,i.useContext)(o.c),{user:b}=(0,i.useContext)(d.V),[C,k]=(0,i.useState)([{}]),[R,y]=(0,i.useState)(!1),[f,H]=(0,i.useState)([]),[I,S]=(0,i.useState)(0);(0,i.useMemo)((()=>{(async()=>{y(!0);try{const e=await m.Z.post("/booking/avail/",{hotelid:v,from_date:N[0][0],to_date:N[0][1]});k(e.data)}catch(e){h.Am.error("Unexpected Error")}y(!1)})()}),[N,v]);const _=e=>{if(0===f.length)H([...f,e.target.id]),S((s=>s+parseInt(e.target.value)));else{f.includes(e.target.id)||(H([...f,e.target.id]),S((s=>s+parseInt(e.target.value))))}},w=e=>{f.length>0&&f.includes(e.target.id)&&(H((s=>s.filter((s=>s!==e.target.id)))),S((s=>s-parseInt(e.target.value))))};return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{className:"body",children:[!0===R?(0,x.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",width:"100%"},children:(0,x.jsx)(r(),{})}):0===C.length?(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("div",{className:"NoRoomsAvailable",children:(0,x.jsx)("div",{className:"HeadingNoAvailableRooms",children:(0,x.jsx)("p",{children:"Sorry! No Rooms Available"})})})}):(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{className:"landingHotel",id:"landingHotelContainer",children:[(0,x.jsx)("div",{className:"Heading-available-Rooms",children:(0,x.jsx)("p",{children:"Available Rooms"})}),(0,x.jsx)("div",{className:"Search-room",children:(0,x.jsxs)("div",{className:"main-row-search-1",children:[(0,x.jsxs)("div",{className:"main-col1-1",children:[(0,x.jsx)("div",{className:"maxLimit",children:(0,x.jsx)("p",{className:"limitHeading",children:"Max:\xa0\u20b9"})}),(0,x.jsx)("input",{type:"number",onChange:e=>j(e.target.value),value:n})]}),(0,x.jsxs)("div",{className:"main-col2-1",children:[(0,x.jsx)("div",{className:"minLimit",children:(0,x.jsx)("p",{className:"limitHeading",children:"Min:\xa0\u20b9"})}),(0,x.jsx)("input",{type:"number",onChange:e=>p(e.target.value),value:u})]}),(0,x.jsx)("div",{className:"main-col3-1",children:(0,x.jsx)("button",{onClick:async()=>{y(!0);try{const e=await m.Z.post("/booking/avail/",{hotelid:v,from_date:N[0][0],to_date:N[0][1]});k(e.data)}catch(e){h.Am.error("Unexpected happen")}y(!1)},children:"Search"})})]})}),(0,x.jsx)("div",{className:"hotelContainer",children:R?(0,x.jsx)(r(),{}):C.filter((e=>e.price<=n&&e.price>=u||""===n?e:"")).map((e=>(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{className:"hotelWrapper",children:[(0,x.jsxs)("div",{className:"hotelImage",children:[(0,x.jsx)("div",{className:"MainHotelImage",children:(0,x.jsx)("img",{class:"card-img-top",src:"/Image/".concat(e.img[1]),alt:"Card image cap"})}),(0,x.jsx)("div",{className:"hotelImagePreview",children:e.img.map((e=>(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("div",{className:"ImagePreviewContainer",children:(0,x.jsx)("img",{class:"card-img-top",src:"/Image/".concat(e),alt:"Card image cap",onClick:()=>a("/Image/".concat(e))})})})))})]}),(0,x.jsxs)("div",{className:"hotelDetails",children:[(0,x.jsxs)("div",{className:"hotelAddress",children:[(0,x.jsx)("span",{children:"Room"}),"\xa0:\xa0",e.roomNumber]}),(0,x.jsxs)("div",{className:"hotelDetailsTexts",children:[(0,x.jsx)("span",{children:"Price"}),"\xa0:\xa0\u20b9",e.price]}),(0,x.jsxs)("div",{className:"hotelDetailsTexts",children:[(0,x.jsx)("span",{children:"Capacity"}),"\xa0:\xa0",e.capacity]}),(0,x.jsxs)("div",{className:"reserveButton",children:[(0,x.jsx)("button",{className:"selectRoomBtn",id:e._id,value:e.price,onClick:_,children:f.includes(e._id)?"Selected":"Select Room"}),f.includes(e._id)&&(0,x.jsx)("button",{className:"removeRoomBtn",id:e._id,value:e.price,onClick:w,children:"Remove"})]})]})]})})))}),f.length>0&&(0,x.jsx)(g,{data:{price:I,room:f,user:b._id,from_date:N[0][0],to_date:N[0][1]}})]})}),s&&(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{className:"showImage",children:[(0,x.jsx)("img",{class:"card-img-top",src:"".concat(s),alt:"Card image cap"}),(0,x.jsx)("button",{className:"CloseBtnImage",onClick:()=>a(!1),children:(0,x.jsx)(t.G,{icon:l.g82})})]})})]})})}}}]);
//# sourceMappingURL=443.4d250f3f.chunk.js.map