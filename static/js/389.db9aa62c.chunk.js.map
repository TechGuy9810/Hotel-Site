{"version":3,"file":"static/js/389.db9aa62c.chunk.js","mappings":"qRAQA,MAuEA,EAvEeA,KAEX,MAAM,KAACC,IAAQC,EAAAA,EAAAA,YAAWC,EAAAA,IACpBC,EAAYC,IAAkBC,EAAAA,EAAAA,UAAS,KACtCC,EAASC,IAAcF,EAAAA,EAAAA,WAAS,IACvCG,EAAAA,EAAAA,UAAQ,KACYC,WAChBF,GAAW,GACX,IACE,MAAMG,QAAYC,EAAAA,EAAMC,IAAI,sBAADC,OAAuBb,EAAKc,MACvDV,EAAeM,EAAIK,KACrB,CAAE,MAAOC,GACPC,EAAAA,GAAMC,MAAM,mBACd,CACAX,GAAW,EAAM,EAEnBY,EAAW,GACV,CAACnB,EAAKc,MAGT,MAAMM,EAAcX,UAClB,IACE,MAAMY,EAAYC,EAAEC,OAAOC,GACrBd,QAAYC,EAAAA,EAAMc,KAAK,yBAAyB,CAACJ,cACvC,MAAbX,EAAIgB,SAELT,EAAAA,GAAMU,QAAQjB,EAAIK,MAClBa,OAAOC,SAASC,QAAO,GAE1B,CAAC,MAAMd,GAENC,EAAAA,GAAMC,MAAMF,EAAID,KAAKgB,QACtB,GAEP,OACEC,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,UACAF,EAAAA,EAAAA,KAAA,OAAKG,MAAM,eAAcD,UACzBF,EAAAA,EAAAA,KAAA,OAAKG,MAAM,MAAMC,MAAO,CAACC,IAAI,MAAMC,OAAO,QAAQJ,SAEjD5B,GAAU0B,EAAAA,EAAAA,KAACO,IAAU,IAA2B,IAArBpC,EAAYqC,OAAarC,EAAYsC,KAAIC,IACrEC,EAAAA,EAAAA,MAAA,OAAKR,MAAM,OAAMX,GAAG,aAAYU,SAAA,EAC9BS,EAAAA,EAAAA,MAAA,OAAKR,MAAM,YAAYX,GAAG,WAAUU,SAAA,EAClCF,EAAAA,EAAAA,KAAA,MAAIG,MAAM,gBACVH,EAAAA,EAAAA,KAAA,OAAKY,UAAU,uBAAsBV,UAACS,EAAAA,EAAAA,MAAA,KAAGR,MAAM,YAAYC,MAAO,CAACS,WAAW,OAAOX,SAAA,CAAC,YAAYQ,EAAKI,KAAKC,iBAE5Gf,EAAAA,EAAAA,KAAA,KAAGG,MAAM,YAAWD,UACVS,EAAAA,EAAAA,MAAA,QAAMP,MAAO,CAACY,aAAa,OAAOd,SAAA,CACjCe,IAAOP,EAAKQ,OAAOC,OAAO,cAAc,aACxCF,IAAOP,EAAKU,KAAKD,OAAO,oBAGnCnB,EAAAA,EAAAA,KAAA,OAAKG,MAAM,YAAYC,MAAO,CAACC,IAAI,MAAOgB,QAAQ,QAAQnB,UAC1DF,EAAAA,EAAAA,KAAA,UAAQG,MAAM,iBAAiBX,GAAIkB,EAAK5B,IAAKwC,QAASlC,EAAYc,SAAC,iBAGvEF,EAAAA,EAAAA,KAAA,OAAKY,UAAU,gBAAeV,UAC5BF,EAAAA,EAAAA,KAAA,OAAKuB,IAAKC,YAIFxB,EAAAA,EAAAA,KAAA,OAAKG,MAAM,yBAAwBD,UACjCF,EAAAA,EAAAA,KAAA,KAAGY,UAAU,YAAWV,SAAC,4BAOlC,C","sources":["project/bookings.js"],"sourcesContent":["import React, { useContext, useState ,useMemo} from 'react';\r\nimport './bookings.css';\r\nimport { AuthContext } from '../context/authContext';\r\nimport axios from 'axios';\r\nimport toast from 'react-hot-toast';\r\nimport moment from \"moment\";\r\nimport img from '../Image/booked.png';\r\nimport ClipLoader from 'react-spinners/ClipLoader';\r\nconst Bookings=()=>\r\n{\r\n    const {user} = useContext(AuthContext);  \r\n    const[bookingData,setBookingData] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    useMemo(() => {\r\n      const fetchData = async () => {\r\n        setLoading(true);\r\n        try {\r\n          const res = await axios.get(`booking/getBooking/${user._id}`);\r\n          setBookingData(res.data);\r\n        } catch (err) {\r\n          toast.error(\"Unexpected Error\");\r\n        }\r\n        setLoading(false);\r\n      };\r\n      fetchData();\r\n    }, [user._id]);\r\n\r\n    //cancel Room Booking\r\n    const handleClick = async(e)=>{\r\n      try{\r\n        const bookingId = e.target.id;\r\n        const res = await axios.post(`booking/cancelBooking/`,{bookingId});\r\n        if(res.status===200)\r\n        {\r\n          toast.success(res.data);\r\n          window.location.reload(true);\r\n        }\r\n       }catch(err)\r\n       {\r\n        toast.error(err.data.message);\r\n       }\r\n    }\r\nreturn( \r\n  <>\r\n  <div class=\"body-booking\">\r\n  <div class=\"row\" style={{gap:\"2vw\",margin:\"auto\"}}>\r\n  {/* let obj = arr.find(o => o.name === 'string 1'); */}\r\n  {loading? (<ClipLoader/>):((bookingData.length!==0)?(bookingData.map(item=>(\r\n  <div class=\"card\"id='CardHolder'>\r\n    <div class=\"card-body\" id='CardBody'>\r\n      <h5 class=\"card-title\"></h5>\r\n      <div className='roomNumbersContainer'><p class=\"card-text\" style={{fontWeight:\"600\"}}>Room:&nbsp;{item.room.roomNumber}</p>\r\n      </div>\r\n      <p class=\"card-text\">\r\n                <span style={{paddingRight:\"1vw\"}}>\r\n                {moment(item.start).format('DD/MM/YYYY')}&nbsp;to&nbsp;\r\n                {moment(item.end).format('DD/MM/YYYY')}\r\n                </span>\r\n      </p>\r\n      <div class=\"col-sm-10\" style={{gap:\"1vw\", display:\"flex\"}}>\r\n      <button class=\"btn btn-danger\" id={item._id} onClick={handleClick}>Cancel</button>\r\n      </div>\r\n  </div>\r\n  <div className='cardBodyImage'>\r\n    <img src={img} ></img>\r\n  </div>\r\n</div>\r\n          ))):(\r\n            <div class=\"mainNoBookingContainer\">\r\n              <p className='noBooking'>No Bookigns Yet!</p>\r\n            </div>\r\n          ))}\r\n    </div>\r\n  \r\n  \r\n    </div>\r\n  </>\r\n      );\r\n}\r\nexport default Bookings;\r\n\r\n"],"names":["Bookings","user","useContext","AuthContext","bookingData","setBookingData","useState","loading","setLoading","useMemo","async","res","axios","get","concat","_id","data","err","toast","error","fetchData","handleClick","bookingId","e","target","id","post","status","success","window","location","reload","message","_jsx","_Fragment","children","class","style","gap","margin","ClipLoader","length","map","item","_jsxs","className","fontWeight","room","roomNumber","paddingRight","moment","start","format","end","display","onClick","src","img"],"sourceRoot":""}